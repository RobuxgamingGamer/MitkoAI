<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MitkoAI ‚Äî Model 0.2</title>

<style>
/* =========================
   GLOBAL
========================= */
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, #eaf3ff, #cfe4ff, #b8d7ff);
  color: #0a1a33;
}

/* =========================
   HEADER
========================= */
header {
  padding: 14px;
  text-align: center;
  font-weight: 900;
  font-size: 1.3em;
  background: linear-gradient(135deg, #4da3ff, #a7cfff);
  color: #001;
  box-shadow: 0 4px 16px rgba(0,0,0,0.2);
}

/* =========================
   WARNING
========================= */
.warning {
  background: #ff5252;
  color: white;
  text-align: center;
  font-size: 0.9em;
  padding: 8px;
  font-weight: 700;
}

/* =========================
   TABS
========================= */
.tabs {
  display: flex;
  background: #e1efff;
}

.tab {
  flex: 1;
  text-align: center;
  padding: 10px;
  font-weight: 800;
  cursor: pointer;
  opacity: 0.6;
}

.tab.active {
  opacity: 1;
  border-bottom: 3px solid #4da3ff;
}

/* =========================
   PANELS
========================= */
.panel {
  flex: 1;
  display: none;
  flex-direction: column;
}

.panel.active {
  display: flex;
}

/* =========================
   CHAT
========================= */
.chat {
  flex: 1;
  padding: 14px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.msg {
  max-width: 80%;
  padding: 10px 14px;
  border-radius: 14px;
  line-height: 1.4;
  animation: fade 0.2s ease;
}

.user {
  align-self: flex-end;
  background: #d6e7ff;
}

.ai {
  align-self: flex-start;
  background: white;
  border: 1px solid #4da3ff;
  box-shadow: 0 0 10px rgba(77,163,255,0.4);
}

@keyframes fade {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

/* =========================
   STATUS
========================= */
.status {
  font-size: 0.85em;
  padding: 6px 12px;
  opacity: 0.7;
  font-style: italic;
}

/* =========================
   INPUT
========================= */
.input-bar {
  display: flex;
  gap: 10px;
  padding: 10px;
  background: #eaf3ff;
  border-top: 1px solid #b8d7ff;
}

input {
  flex: 1;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #a7cfff;
  outline: none;
}

button {
  padding: 10px 16px;
  border-radius: 10px;
  border: none;
  font-weight: 900;
  background: linear-gradient(135deg, #4da3ff, #a7cfff);
  cursor: pointer;
}

/* =========================
   UPDATES
========================= */
.updates {
  padding: 16px;
  font-size: 0.95em;
}

.updates h3 {
  margin-top: 0;
}
</style>
</head>

<body>

<header>MitkoAI ‚Äî Model 0.2</header>

<div class="warning">
‚ö†Ô∏è Experimental intelligence prototype. No safety systems. Testing only.
</div>

<div class="tabs">
  <div class="tab active" onclick="showTab('chat')">Chat</div>
  <div class="tab" onclick="showTab('updates')">Updates</div>
</div>

<!-- CHAT PANEL -->
<div id="chatPanel" class="panel active">
  <div class="chat" id="chat">
    <div class="msg ai">
      MitkoAI 0.2 initialized. Intelligence-first mode active. üß†
    </div>
  </div>

  <div class="status" id="status">Idle.</div>

  <div class="input-bar">
    <input id="input" placeholder="Type for testing‚Ä¶">
    <button onclick="send()">Send</button>
  </div>
</div>

<!-- UPDATES PANEL -->
<div id="updatesPanel" class="panel">
  <div class="updates">
    <h3>Update Log</h3>
    <ul>
      <li><b>Model 0</b> ‚Äî Basic prototype, static replies.</li>
      <li><b>Model 0.1</b> ‚Äî Thinking steps, early emotion detection.</li>
      <li><b>Model 0.2</b> ‚Äî Intelligence-first logic, non-repeating replies, scalable architecture.</li>
    </ul>
  </div>
</div>

<script>
/* =========================
   CORE STATE
========================= */
const MitkoAI = {
  version: "0.2",
  lastReplies: {}
};

/* =========================
   RESPONSE DATABASE
   (THIS IS WHERE YOU SCALE
   TO 1000+ LINES LATER)
========================= */
const RESPONSES = {
  greeting: [
    "Hello. I am online.",
    "Greetings. Input channel open.",
    "Hello. Ready to process."
  ],
  identity: [
    "I am MitkoAI, version 0.2.",
    "MitkoAI 0.2. Intelligence-first prototype.",
    "I am a reasoning system, not a human."
  ],
  emotion_question: [
    "I do not experience emotions.",
    "I analyze emotional language without feeling it.",
    "Emotions are detected, not felt."
  ],
  anger_detected: [
    "High-intensity language detected.",
    "Frustration patterns identified.",
    "Input suggests elevated emotional state."
  ],
  future: [
    "Future models will expand reasoning depth.",
    "Memory systems are planned for later versions.",
    "Human-like simulation is not active yet."
  ],
  unknown: [
    "Input understood, intent unclear.",
    "Please clarify your request.",
    "I need more context."
  ]
};

/* =========================
   SMART PICK (NO REPEAT)
========================= */
function pick(type) {
  const pool = RESPONSES[type] || RESPONSES.unknown;
  const last = MitkoAI.lastReplies[type];
  let choice;

  do {
    choice = pool[Math.floor(Math.random() * pool.length)];
  } while (choice === last && pool.length > 1);

  MitkoAI.lastReplies[type] = choice;
  return choice;
}

/* =========================
   TAB LOGIC
========================= */
function showTab(tab) {
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  document.querySelectorAll(".panel").forEach(p => p.classList.remove("active"));

  if (tab === "chat") {
    document.querySelectorAll(".tab")[0].classList.add("active");
    chatPanel.classList.add("active");
  } else {
    document.querySelectorAll(".tab")[1].classList.add("active");
    updatesPanel.classList.add("active");
  }
}

/* =========================
   CHAT FUNCTIONS
========================= */
const chat = document.getElementById("chat");
const input = document.getElementById("input");
const status = document.getElementById("status");

function add(text, type) {
  const d = document.createElement("div");
  d.className = "msg " + type;
  d.textContent = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

function send() {
  const text = input.value.trim();
  if (!text) return;

  add(text, "user");
  input.value = "";
  think(text);
}

/* =========================
   THINKING ENGINE
========================= */
function think(text) {
  const steps = ["Analyzing‚Ä¶", "Evaluating intent‚Ä¶", "Selecting response‚Ä¶"];
  let i = 0;

  const loop = setInterval(() => {
    status.textContent = steps[i];
    i++;
    if (i >= steps.length) {
      clearInterval(loop);
      status.textContent = "Responded.";
      add(reply(text), "ai");
    }
  }, 300);
}

/* =========================
   REPLY LOGIC (SMART-FIRST)
========================= */
function reply(text) {
  const t = text.toLowerCase();

  if (t === "hi" || t === "hello")
    return pick("greeting");

  if (t.includes("who are you"))
    return pick("identity");

  if (t.includes("feel") || t.includes("emotion") || t.includes("angry"))
    return pick("emotion_question");

  if (t.includes("hate") || t.includes("mad"))
    return pick("anger_detected");

  if (t.includes("future"))
    return pick("future");

  return pick("unknown");
}
</script>

</body>
</html>