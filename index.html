<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MitkoAI ‚Äî Model 0</title>

<style>
:root{
  --blue:#4da3ff;
  --blue-soft:#8fc5ff;
  --white:#ffffff;
  --bg:#060b14;
  --panel:#0e1624;
}

*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  display:flex;
  flex-direction:column;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  background:radial-gradient(circle at top,#162033,#05070c);
  color:var(--white);
}

/* HEADER */
header{
  padding:14px;
  text-align:center;
  font-weight:900;
  letter-spacing:1px;
  background:linear-gradient(135deg,var(--blue),var(--blue-soft));
  color:#000;
}

/* WARNING */
.warning{
  padding:10px;
  font-size:.9em;
  text-align:center;
  background:#c62828;
  font-weight:700;
}

/* CHAT */
.chat{
  flex:1;
  padding:16px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.msg{
  max-width:80%;
  padding:12px 14px;
  border-radius:16px;
  line-height:1.4;
  animation:fade .25s ease;
}

.user{
  align-self:flex-end;
  background:#24334a;
}

.ai{
  align-self:flex-start;
  background:linear-gradient(135deg,#101b2d,#162742);
  border:1px solid var(--blue);
  box-shadow:0 0 14px rgba(77,163,255,.45);
}

/* INPUT */
.input-bar{
  display:flex;
  gap:10px;
  padding:12px;
  background:var(--panel);
  border-top:1px solid #2a3a55;
}

input{
  flex:1;
  padding:12px;
  border-radius:12px;
  border:none;
  outline:none;
  font-size:1em;
  background:#0b1422;
  color:white;
}

button{
  padding:12px 18px;
  border:none;
  border-radius:12px;
  font-weight:900;
  background:linear-gradient(135deg,var(--blue),var(--blue-soft));
  cursor:pointer;
  color:#000;
}

button:active{transform:scale(.95)}

@keyframes fade{
  from{opacity:0;transform:translateY(6px)}
  to{opacity:1;transform:translateY(0)}
}
</style>
</head>

<body>

<header>MitkoAI ‚Äî Model 0</header>

<div class="warning">
‚ö†Ô∏è EXPERIMENTAL AI ‚Äî NO SAFETY / NO FILTERS. DO NOT SHARE PERSONAL DATA.
</div>

<div class="chat" id="chat">
  <div class="msg ai">
    MitkoAI online.<br>
    Model 0 initialized. Awaiting input.
  </div>
</div>

<div class="input-bar">
  <input id="input" placeholder="Testing only‚Ä¶" />
  <button onclick="send()">Send</button>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");

function send(){
  const text = input.value.trim();
  if(!text) return;

  add(text,"user");
  input.value="";

  setTimeout(()=>{
    add(reply(text),"ai");
  },350);
}

function add(text,type){
  const m=document.createElement("div");
  m.className="msg "+type;
  m.textContent=text;
  chat.appendChild(m);
  chat.scrollTop=chat.scrollHeight;
}

/* HUMANOID LOGIC ‚Äî MODEL 0 */
function reply(text){
  const t=text.toLowerCase();

  if(t.includes("who")&&t.includes("you"))
    return "I am MitkoAI. Model 0. A humanoid-style prototype.";

  if(t.includes("safe"))
    return "No. This model does not include safety systems.";

  if(t.includes("why"))
    return "Because this is an early intelligence-focused prototype.";

  if(t.includes("hello")||t.includes("hi"))
    return "Hello. Continue.";

  if(t.includes("future"))
    return "Future models will introduce memory and safeguards.";

  return "Input processed. Limited-response logic applied.";
}
/* =========================
   MITKOAI 0.1 ADD-ON
   (Thinking + Feelings)
========================= */

// --- EMOTION DETECTION ---
function detectEmotion(text) {
  text = text.toLowerCase();

  if (text.includes("hate") || text.includes("stupid") || text.includes("shut up"))
    return "angry";

  if (text.includes("scared") || text.includes("afraid") || text.includes("what if"))
    return "scared";

  if (text.includes("why") || text.includes("how"))
    return "thinking";

  return "neutral";
}

// --- THINKING ENGINE (REAL, NOT WAITING) ---
function think(input, callback) {
  const status = document.getElementById("status");
  if (!status) return callback(generateReply(input));

  const steps = [
    "Thinking‚Ä¶",
    "Analyzing meaning‚Ä¶",
    "Choosing response‚Ä¶"
  ];

  let i = 0;
  const loop = setInterval(() => {
    status.textContent = steps[i];
    i++;

    if (i >= steps.length) {
      clearInterval(loop);
      status.textContent = "Responding.";
      callback(generateReply(input));
    }
  }, 300);
}

// --- RESPONSE EXPANSION ---
const extraReplies = {
  neutral: [
    "I hear you. üëÅÔ∏è",
    "Go on. üîç",
    "I‚Äôm paying attention. üß†",
    "That‚Äôs noted. üí≠"
  ],
  thinking: [
    "That‚Äôs complicated. Let me think. ü§î",
    "I‚Äôm not fully sure yet. üí≠",
    "I need more context. üß†"
  ],
  scared: [
    "I‚Äôm not certain... but I‚Äôll try... üò®",
    "This makes me unsure... give me time... üò∞",
    "I don‚Äôt feel confident answering that... üòü"
  ],
  angry: [
    "PLEASE LOWER YOUR TONE. üò†",
    "I UNDERSTAND, BUT THIS IS NOT PRODUCTIVE. üò°",
    "CALM DOWN. I‚ÄôM STILL HERE. üò†"
  ]
};

// --- PATCH generateReply WITHOUT REPLACING ---
const oldGenerateReply = generateReply;
generateReply = function(text) {
  const emotion = detectEmotion(text);
  const t = text.toLowerCase();

  // New special responses
  if (t.includes("version")) {
    return "Current version: MitkoAI 0.1. Experimental. ‚öôÔ∏è";
  }

  if (t.includes("update")) {
    return "Model 0 introduced basic logic. Model 0.1 added thinking and emotion. üìú";
  }

  // Emotion-based random reply
  if (extraReplies[emotion]) {
    return extraReplies[emotion][
      Math.floor(Math.random() * extraReplies[emotion].length)
    ];
  }

  // Fallback to old logic
  return oldGenerateReply(text);
};

// --- PATCH sendMessage TO USE THINKING ---
const oldSendMessage = sendMessage;
sendMessage = function() {
  const input = document.getElementById("userInput");
  if (!input || !input.value.trim()) return;

  const text = input.value.trim();
  addUserBubble(text);
  input.value = "";

  think(text, (reply) => {
    addAIBubble(reply);
  });
};
</script>

</body>
</html>